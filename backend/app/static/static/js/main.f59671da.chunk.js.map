{"version":3,"sources":["components/Shared/Container/Container.js","components/Shared/Button/Button.js","components/Shared/Navbar/Navbar.js","components/Shared/Input/Input.js","components/Login/Login.jsx","store/user/user-actions.js","components/Shared/Portal/Portal.js","components/Shared/IconButton/IconButton.js","components/Shared/FullscreenModal/FullscreenModal.js","components/Login/Login.container.js","components/Login/Signup.container.js","components/Shared/UserProfile/UserProfile.js","store/videos/videos-actions.js","store/category/category-actions.js","components/Shared/Button/ButtonIcon.js","components/Shared/UploadVideoModal/UploadVideoModal.js","components/Shared/UploadVideo/UploadVideo.js","components/Shared/Navbar/NavbarAuth.js","components/Shared/Navbar/Navbar.container.js","components/Shared/Layout/Layout.js","components/Shared/LoadingSpinner/LoadingSpinner.js","store/profile/profile-actions.js","components/Profile/ProfileBanner.js","components/Profile/PitchModal.js","components/Shared/VideoThumbnail/VideoThumbnail.js","components/Profile/TodaysSchedule.js","components/Shared/PaymentMethod/PaymentMethod.js","store/payment/payment-actions.js","components/Profile/CoachingModal.js","components/Shared/VideoThumbnail/VideoThumbnail.container.js","components/Shared/Button/ButtonLongBorder.js","components/Shared/VideoSection/VideoSection.js","components/Profile/MyVideosModal.js","components/Shared/HorizontalMenuSelector/HorizontalMenuSelector.js","components/Profile/Profile.container.js","PrivateRoutes.js","store/video/video-actions.js","store/comment/comment-actions.js","components/Video/VideoComment.js","components/Shared/Textarea/Textarea.js","components/Shared/Comment/CommentModal.js","components/Video/CreateVideoComment.js","components/Video/CreateVideoComment.container.js","components/Video/VideoComment.container.js","components/Video/GeneralComments.container.js","components/Video/VideoPlayer.container.js","components/HomePage/HomepageGuest.container.js","PublicRoutes.js","App.js","store/user/user-reducer.js","store/video/video-reducer.js","store/comment/comment-reducer.js","store/videos/videos-reducer.js","store/configureStore.js","store/category/category-reducer.js","store/profile/profile-reducer.js","index.js","media/loading-spinner.svg"],"names":["Container","children","className","Button","text","onClick","buttonType","Navbar","onSignUpClick","onSignInClick","src","alt","href","Input","value","onChange","placeholder","icon","type","Login","email","password","onEmailChange","onPasswordChange","onLoginClick","onDemoClick","error","loginLoading","loginSucceeded","user","authenticate","dispatch","a","axios","get","response","data","portalRoot","document","getElementById","Portal","el","createElement","appendChild","this","removeChild","props","ReactDOM","createPortal","Component","IconButton","sizeInPx","disabled","background","style","height","width","FullscreenModal","onOutsideClick","onCloseClick","e","stopPropagation","console","log","connect","state","authenticated","login","post","useState","setEmail","setPassword","useSelector","useHistory","event","target","handleOnPasswordChange","handleOnEmailChange","toLocaleLowerCase","SignUpContainer","onSignUpSuccess","username","setUsername","useDispatch","res","signupUser","UserProfile","profileImg","require","setVideo","video","ButtonIcon","UploadVideoModal","file","setFile","categoryChoiceId","setCategoryChoiceId","title","setTitle","description","setDescription","thumbnailFile","setThumbnailFile","useEffect","statusText","categories","handleCategoryChange","currentTarget","id","required","length","map","category","main","for","click","display","raw","files","category_id","videoFile","formData","FormData","append","config","headers","postVideo","UploadVideo","showModal","setShowModal","handleModal","NavbarAuth","userImage","userId","to","NavbarContainer","toggleSignInModal","setToggleSignInModal","toggleSignUpModal","setToggleSignUpModal","avatar","handleOnSignInClick","handleOnSignUpClick","Layout","LoadingSpinner","alignItems","justifyContent","Spinner","loadFollows","follows","ProfileBanner","banner","Pitch","volume","muted","url","personal_video","controls","loop","playsinline","fontSize","about_me","VideoThumbnail","hovered","onMouseEnter","onMouseLeave","views","created_at","TodaysSchedule","displayPlayButton","setDisplayPlayButton","notes","old_video","main_lift","link","thumbnail","total_views","PaymentMethod","cost","coachId","htmlFor","preventDefault","paymentId","sendPayment","CoachingModal","todays_schedule","payment_methods","payment","key","user_id","VideoThumbnailContainer","name","ButtonLongBorder","VideoSection","videos","onViewMoreClick","sectionTitle","MyVideosModal","new_comments","no_comments","oldComments","HorizontalMenuSelector","menuItems","active","menuItem","padding","border","color","ProfileContainer","profile","useParams","activeMenuItem","setActiveMenuItem","getProfile","handleFollow","followId","handleUnfollow","delete","coach","size","followingBool","handleActiveMenuChange","PrivateRoutes","loadRecentVideos","addComment","comment","incrementCommentVote","commentId","decrementCommentVote","postComment","likeComment","comment_id","like_comment","dislike_comment","VideoComment","ref","likes","dislikes","timestamp","formatted_timestamp","onUpvoteClick","onDownvoteClick","disableLike","disableDislike","boxShadow","opacity","transition","float","textAlign","Textarea","CommentModal","onCommentChange","onCommentSubmit","commentValue","buttonText","CreateVideoComment","formStage","onTimestampedCommentClick","onGeneralCommentClick","onSelectTimestampClick","onBackClick","hasTimestamp","playerRef","useRef","playing","current","getCurrentTime","CreateVideoCommentContainer","onCommentSubmitClick","setFormStage","setHasTimestamp","setComment","setTimestamp","videoId","handleOnCommentSubmit","commentData","video_id","Object","assign","handleOnSelectTimestampClick","handleOnCommentChange","VideoCommentContainer","alreadyLiked","setAlreadyLiked","alreadyDisliked","setAlreadyDisliked","disliked","liked","GeneralCommentsContainer","comments","handleOnUpvoteClick","handleOnDownvoteClick","comment_user","comment_avatar","VideoPlayerContainer","play","setPlay","commentsToDisplay","setCommentsToDisplay","secondsPlayed","setSecondsPlayed","displayCommentModal","setDisplayCommentModal","displayLoginModal","setDisplayLoginModal","setReactPlayerLoading","viewAdded","setViewAdded","firstMount","videoCommentRef","videoPlayerRef","createdAt","videoLoading","loading","commentsLoading","useWindowWidth","getComments","x","xToArr","item","i","classList","includes","push","activeItemOffsetTop","offsetTop","scrollTop","displayCommentsWithSameTimestampAsVideo","videoTimeInSeconds","commentsWithSameTimestampAsVideotime","closeLoginModal","handleOnProgress","vidId","videoTimeRoundedToSeconds","Math","floor","playedSeconds","getDuration","handleOnCloseCommentModalClick","generateVideoWidth","generateVideoHeight","onReady","progressInterval","onPlay","onEnded","onProgress","format","margin","fontWeight","player","currentTime","handleOnVideoCommentClick","HomepageGuestContainer","setLoading","offset","getRecentVideos","popularVideos","recentVideos","needVideos","PublicRoutes","exact","path","component","LoginContainer","userLoading","userAuthenticated","authenticateUser","DEFAULT_STATE","storeEnhancer","rootReducer","combineReducers","action","slice","ownedVidoes","featuredVideos","sort","b","userProfile","applyMiddleware","thunk","initialState","store","createStore","render","StrictMode","module","exports"],"mappings":"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","file":"static/js/main.f59671da.chunk.js","sourcesContent":["import React from 'react'\nimport './container.style.scss'\nexport default function Container({children}) {\n  return (\n    <div className=\"container\">\n      {children}\n    </div>\n  )\n}\n","import React from 'react'\nimport './button.style.scss'\nexport default function Button({text, onClick, buttonType = \"primary\"}) {\n  return (\n    <button className={`button button-${buttonType}`} onClick={onClick}>\n      {text}\n    </button>\n  )\n}","import React from 'react'\nimport Button from '../Button/Button'\nimport Container from '../Container/Container'\nimport './navbar.style.scss'\nexport default function Navbar({onSignUpClick, onSignInClick}) {\n  \n  return (\n   <nav className=\"navbar\">\n     <Container>\n     <div>\n       <img className=\"navbar-logo\" src=\"https://getcardify.com/assets/img/logos/icon/Icon_mono_positive.png\" alt=\"\"/>\n     </div>\n\n       <ul className=\"navbar-items-list\">\n         <li className=\"navbar-list-item\"><a className=\"navbar-list-link\" href=\"/\">Videos</a></li>\n        <li className=\"navbar-list-item\"><Button buttonType=\"primary\" text=\"Sign up\" onClick={onSignUpClick} /></li>\n        <li className=\"navbar-list-item\"><Button buttonType=\"outline\" text=\"Sign in\" onClick={onSignInClick} /></li>\n       </ul>\n\n     </Container>\n   </nav>\n  )\n}\n","import React from 'react'\nimport './input.style.scss'\nexport default function Input({value, onChange, placeholder, icon, type =\"text\"}) {\n  return (\n   <div className=\"input-wrap\">\n     {icon && \n     <div className=\"input-icon\">{icon}</div> \n     }\n     <input type={type}  className=\"input\" onChange={onChange} placeholder={placeholder} value={value} />\n   </div> \n  )\n}\n","import React from 'react';\nimport Button from '../Shared/Button/Button';\nimport Input from '../Shared/Input/Input';\nimport {AiOutlineUser, AiOutlineLock} from 'react-icons/ai'\nexport default function Login({\n  email,\n  password,\n  onEmailChange,\n  onPasswordChange,\n  onLoginClick,\n  onDemoClick,\n  error\n}) {\n  return (\n    <div className=\"login-modal\">\n      <div>\n        <Input icon={<AiOutlineUser />} value={email} onChange={onEmailChange} placeholder={'Email'} />\n        <Input\n          type=\"password\"\n          icon={<AiOutlineLock />}\n          value={password}\n          onChange={onPasswordChange}\n          placeholder=\"Password\"\n        />\n      </div>\n      <div className=\"login-modal-button-wrap\">\n        <Button onClick={onLoginClick} text=\"Login\" />\n        <Button onClick={onDemoClick} text=\"Demo\" />\n      </div>\n      {error && <div>Could not sign in</div>}\n    </div>\n  );\n}\n","import axios from 'axios'\n\n\n\nexport const loginLoading = () => ({\n  type: 'LOGIN_LOADING'\n})\n\nexport const loginFailed = () => ({\n  type: 'LOGIN_FAILED'\n})\n\nexport const loginSucceeded = (user) => ({\n  type: 'LOGIN_SUCCEEDED',\n  user\n})\n\nexport const authenticate = () => {\n  return async dispatch => {\n    dispatch(loginLoading)\n    try {\n      const response = await axios.get('/api/session/current')\n      dispatch(loginSucceeded(response.data))\n    } catch (error) {\n    }\n  }\n}\n\n\nexport const login = (email, password) => {\n  return async dispatch => {\n    dispatch(loginLoading())\n    try {\n      const response = await axios.post('/api/session', {\n        email,\n        password\n      })\n      // start socket server emit message, have another listener \"socket.on notification\"\n      \n      dispatch(loginSucceeded(response.data))\n    } catch (error) {\n      dispatch(loginFailed())\n    }\n  }\n}\nexport const signupUser = (username, email, password) => {\n  return async dispatch => {\n    try {\n      const res = await axios.post('/api/users/signup', {\n        username,\n        email,\n        password\n      })\n      dispatch(loginSucceeded(res.data));\n\n\n    } catch (error) {\n\n    }\n  }\n}\n\nexport const logOut = () => {\n  return async dispatch => {\n    const res = await axios.delete('/api/session')\n  }\n}","import {Component} from 'react'\nimport ReactDOM from 'react-dom'\n\n\n\nconst portalRoot = document.getElementById('portal')\n\n\nexport default class Portal extends Component {\n\n\n  componentDidMount() {\n    portalRoot.appendChild(this.el)\n  }\n  \n  componentWillUnmount() {\n    portalRoot.removeChild(this.el)\n  }\n  \n\n  constructor() {\n    super()\n    this.el = document.createElement('div')\n  }\n \n  render() {\n    const {children} = this.props\n    return ReactDOM.createPortal(children, this.el)\n  }\n}","import React from 'react'\nimport './icon-button.style.scss'\nexport default function IconButton({icon, onClick, sizeInPx = 50, background = \"\", disabled}) {\n  return (\n    <button disabled={disabled} style={{height: sizeInPx, width: sizeInPx}} className=\"icon-button\" onClick={onClick}>  \n      {icon}\n    </button>\n  )\n}\n","import React from 'react';\nimport Portal from '../Portal/Portal';\nimport {AiOutlineClose} from 'react-icons/ai'\nimport './fullscreen-modal.style.scss'\nimport IconButton from '../IconButton/IconButton';\nexport default function FullscreenModal({ children, onOutsideClick, onCloseClick }) {\n  return (\n    <Portal>\n      <div onClick={onOutsideClick} className=\"fullscreen-modal\">\n       <div onClick={e => e.stopPropagation()} className=\"fullscreen-modal-content\">\n         <div>\n         {children}\n           </div>\n        <IconButton className=\"fullscreen-modal-close-icoxn\" icon={<AiOutlineClose />} sizeInPx={24} onClick={() => {onCloseClick(); console.log(\"yeet\")}} />\n           \n           </div> \n        </div>\n    </Portal>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport { authenticate, login } from '../../store/user/user-actions';\nimport './Login'\nimport './login.style.scss';\nimport FullscreenModal from '../Shared/FullscreenModal/FullscreenModal';\nimport Login from './Login';\nfunction LoginContainer({ login, authenticated }) {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const {error} = useSelector(state => state.user)\n  /*   const currentUserId = useSelector((state) => state.auth.id); */\n  const history = useHistory();\n\n\n  const handleOnEmailChange = (event) => {\n    setEmail(event.target.value);\n  };\n\n  const handleOnPasswordChange = (event) => {\n    setPassword(event.target.value);\n  };\n\n  const handleOnLoginClick = () => {\n    login(email.toLocaleLowerCase(), password);\n  };\n\n  const handleOnDemoClick = () => {\n    login('demo@demo.com', 'password');\n  };\n\n  return (\n\n      <div className=\"login-page\">\n        <Login\n          onPasswordChange={(event) => handleOnPasswordChange(event)}\n          onEmailChange={(event) => handleOnEmailChange(event)}\n          onDemoClick={() => handleOnDemoClick()}\n          onLoginClick={() => handleOnLoginClick()}\n          email={email}\n          error={error}\n          password={password}\n        />\n      </div>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  authenticated: state.user.authenticated,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  login: (email, password) => dispatch(login(email, password)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginContainer);\n","import React, { useState } from 'react'\nimport { AiFillLock, AiOutlineMail, AiOutlineUser } from 'react-icons/ai'\nimport Button from '../Shared/Button/Button'\nimport Input from '../Shared/Input/Input'\nimport {signupUser} from '../../store/user/user-actions' \nimport { useDispatch } from 'react-redux'\nexport default function SignUpContainer({onSignUpSuccess}) {\n\n  const [username, setUsername] = useState(\"\")\n  const [password, setPassword] = useState(\"\")\n  const [email, setEmail] = useState(\"\")\n\n  const dispatch = useDispatch()\n\n  const handleOnSignUpClick = () => {\n\n       dispatch(signupUser(username, email, password))\n /*      onSignUpSuccess()  */\n\n  }\n\n  return (\n    <div className=\"sign-up-container\">\n      <Input placeholder=\"Username\" value={username} onChange={e => setUsername(e.target.value)} icon={<AiOutlineUser />} />\n      <Input placeholder=\"Email\" value={email} onChange={e => setEmail(e.target.value)} icon={<AiOutlineMail/>} /> \n      <Input type=\"password\" placeholder=\"Password\" value={password} onChange={e => setPassword(e.target.value)} icon={<AiFillLock />} />\n      <Button text=\"Sign up\" onClick={handleOnSignUpClick} />\n    </div>\n  )\n}\n","import React from 'react'\nimport './user-profile.style.scss'\nexport default function UserProfile({profileImg, className,}) {\n  return (\n    <img className={`user-profile ${className}`} src={profileImg} alt=\"\"/>\n  )\n}\n","const axios = require('axios');\n\nexport const SET_VIDEOS = 'videos/all';\nexport const SET_VIDEO = '/videos/single';\nexport const SET_VIDEOS_BY_OWNER = 'videos/owner';\nexport const SET_FEATURED_VIDEOS = 'videos/get_featured';\nexport const VIDEOS_LOADING = 'videos/loading';\nexport const SET_POPULAR_VIDEOS = 'videos/popular';\nexport const SET_RECENT_VIDEOS = 'videos/recent';\nexport const SET_NEED_VIDEOS = 'videos/by_need';\n\nexport const loadVideos = (videos) => { \n    return {\n        type: SET_VIDEOS,\n        videos\n    }\n}\n\nexport const videosLoading = () => {\n  return {\n    type: VIDEOS_LOADING\n  }\n}\n\nexport const loadPopularVideos = (videos) => {\n  return {\n    type: SET_POPULAR_VIDEOS,\n    videos\n  }\n}\n\nexport const setVideo = (video) => {\n    return {\n        type: SET_VIDEO,\n        video\n    }\n}\n\nexport const loadNeedVideos = (videos) => {\n  return {\n    type: SET_NEED_VIDEOS,\n    videos\n  }\n}\n\nexport const setVideosByOwner = (videos) => {\n  return {\n    type: SET_VIDEOS_BY_OWNER,\n    videos\n  }\n}\n\nexport const loadFeaturedVideos = (videos) => {\n  return {\n    type: SET_FEATURED_VIDEOS,\n    videos\n  }\n}\n\nexport const loadRecentVideos = (videos) => {\n  return {\n    type: SET_RECENT_VIDEOS,\n    videos\n  }\n}\n\nexport const getVideos = () => {\n  return async dispatch => {\n      dispatch(videosLoading())\n      const res = await axios.get('/api/videos/')\n\n      if(res.statusText){\n      dispatch(loadVideos(res.data.videos));\n    }\n    return res;\n  }\n}\n\nexport const getRecentVideos = (offset=0) => {\n  return async dispatch => {\n    const res = await axios.get(`/api/videos/by_recent?offset=${offset}`)\n\n    if(res.statusText){\n      dispatch(loadRecentVideos(res.data.videos))\n    }\n    return res;\n  }\n} \n\nexport const getNeedVideos = () => {\n  return async dispatch => {\n    const res = await axios.get('/api/videos/by_need')\n\n    if(res.statusText){\n      dispatch(loadNeedVideos(res.data.videos))\n    }\n    return res\n  }\n}\n\nexport const addView = (vidId) => {\n  return async dispatch => {\n    const res = await axios.get(`/api/videos/add_view?id=${vidId}`)\n    return res\n  }\n}\n\n\nexport const postVideo = (title, description, thumbnailFile, category_id, videoFile) => {\n  let formData = new FormData()\n  // how fast is it uploading larger files?\n  // limit file size?\n  // s3 bucket, is there a limitation?  Do I need to check settings.  \n  // if a file is too big or s3 is getting full, protect myself.\n  formData.append(\"title\", title)\n  formData.append(\"description\", description)\n  formData.append(\"thumbnail_file\", thumbnailFile.raw)\n  formData.append(\"category_id\", category_id)\n  formData.append(\"video_file\", videoFile.raw)\n  let config = { headers: {\n    'Content-Type': 'multipart/form-data'\n  } }\n    return async dispatch => {\n      const res = await axios.post('/api/videos/', formData, config)\n      if (res.statusText) {\n        // let signature = res.data.response\n        // let formData2 = new FormData()\n        // console.log(signature)\n        // formData2.append(\"file\", file.raw)\n        // const res2 = await axios.post(signature['url'], formData2, signature['fields'])\n        // console.log(res2)\n        dispatch(setVideo(res.data.video));\n      }\n      return res;\n    }\n  }\n\nexport const getVideosByOwner = () => {\n  return async dispatch => {\n    const res = await axios.get('/api/videos/by_owner')\n    if (res.statusText){\n      dispatch(setVideosByOwner(res.data.videos))\n    }\n    return res;\n  }\n}\n\nexport const getVideoById = (id) => {\n  return async dispatch => {\n    const res = await axios.get(`/api/videos/single?id=${id}`)\n    if (res.statusText){\n      dispatch(setVideo(res.data.video))\n    }\n    return res;\n  }\n}\n\n\nexport const getFeaturedVideos = () => {\n  return async dispatch => {\n    const res = await axios.get('/api/videos/search_by_featured')\n    if (res.statusText) {\n      dispatch(loadFeaturedVideos(res.data.videos))\n    }\n    return res;\n  }\n}\n\nexport const getPopularVideos = () => {\n  return async dispatch => {\n    const res = await axios.get('api/videos/search_popular')\n    if (res.statusText) {\n      dispatch(loadPopularVideos(res.data.videos))\n    }\n    return res;\n  }\n}","const axios = require('axios');\n\nexport const SET_CATEGORIES = '/categories/all';\nexport const SET_VIDEOS_BY_CATEGORY = '/get_by_category'\n\nexport const loadCategories = (categories) => { \n    return {\n        type: SET_CATEGORIES,\n        categories: categories\n    }\n}\n\nexport const loadVideosByCategory = (videos) => {\n    return {\n      type: SET_VIDEOS_BY_CATEGORY,\n      videos: videos\n    }\n  }\n\nexport const getCategories = () => {\n    return async dispatch => {\n        const res = await axios.get('/api/categories/')\n    if(res.statusText){\n      dispatch(loadCategories(res.data.categories))\n    }\n    return res;\n  }\n}\n\nexport const getVideosByCategory = (category) => {\n    return async dispatch => {\n      const res = await axios.get(`/api/categories/search_by_category?category=${category}`)\n\n      if (res.statusText) {\n        dispatch(loadVideosByCategory(res.data.videos))\n      }\n      return res;\n    }\n  }\n","import React from 'react'\nimport './button.style.scss'\nexport default function ButtonIcon({icon, text, onClick, buttonType = \"primary\"}) {\n  return (\n    <button className={`button button-icon button-${buttonType}`} onClick={onClick}>\n      {text}\n      {icon}\n    </button>\n  )\n}\n","import React, { useState, useEffect } from 'react';\nimport { postVideo } from '../../../store/videos/videos-actions';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getCategories } from '../../../store/category/category-actions';\nimport IconButton from '../IconButton/IconButton';\nimport { AiFillCamera } from 'react-icons/ai';\nimport { MdFitnessCenter } from 'react-icons/md';\nimport { GiWeightLiftingUp, GiWeightLiftingDown } from 'react-icons/gi';\nimport { RiVideoUploadLine, RiFolderUploadLine } from 'react-icons/ri';\nimport './UploadVideoModal.scss';\nimport Button from '../Button/Button';\nimport Input from '../Input/Input';\nimport ButtonIcon from '../Button/ButtonIcon';\n\nexport default function UploadVideoModal() {\n  const dispatch = useDispatch();\n  const [file, setFile] = useState(null);\n  const [categoryChoiceId, setCategoryChoiceId] = useState(1);\n  const [title, setTitle] = useState(null);\n  const [description, setDescription] = useState(null);\n  const [thumbnailFile, setThumbnailFile] = useState(null);\n\n  useEffect(() => {\n    dispatch(getCategories());\n  }, []);\n\n  const categories = useSelector((state) => state.categories.categories);\n\n  const handleVideoChange = (e) => {\n    setFile({\n      raw: e.target.files[0],\n    });\n  };\n\n  const handleThumbnailChange = (e) => {\n    setThumbnailFile({\n      raw: e.target.files[0],\n    });\n  };\n\n  const handleCategoryChange = (e) => {\n    setCategoryChoiceId(e.currentTarget.id);\n  };\n\n  const grabVideo = () => {\n    document.getElementById('fileVideoInput').click();\n  };\n\n  const grabThumbnail = () => {\n    document.getElementById('fileImageInput').click();\n  };\n\n  const handleUpload = () => {\n    if(!title || !description || !thumbnailFile || !categoryChoiceId || !file) return;\n    dispatch(\n      postVideo(title, description, thumbnailFile, categoryChoiceId, file)\n    );\n  };\n\n  return (\n    <div className=\"video-modal\">\n      <div className=\"title-box\">\n        <Input\n          icon={<MdFitnessCenter />}\n          placeholder=\"Name your video\"\n          onChange={(e) => setTitle(e.target.value)}\n          required\n        />\n      </div>\n      <div className=\"description-box\">\n        <Input\n          icon={<GiWeightLiftingUp />}\n          placeholder=\"Brief Description of your lift\"\n          onChange={(e) => setDescription(e.target.value)}\n          required\n        />\n      </div>\n\n      <div className=\"categories-select\">\n        {categories &&\n          categories.length &&\n          categories.map((category) => {\n            if (category.main === true && categoryChoiceId == category.id) {\n              return (\n                <button\n                  className=\"selected\"\n                  id={category.id}\n                  value={category.id}\n                  onClick={handleCategoryChange}\n                >\n                  {category.title}\n                </button>\n              );\n            } else if (category.main === true) {\n              return (\n                <button\n                  className=\"unselected\"\n                  id={category.id}\n                  value={category.id}\n                  onClick={handleCategoryChange}\n                >\n                  {category.title}\n                </button>\n              );\n            }\n          })}\n      </div>\n      <div className=\"video-modal-input-wrap\">\n        <div className=\"file-container\">\n          <label for=\"file\">\n          <ButtonIcon buttonType=\"outline-faded\" text=\"Select video\" onClick={grabVideo} icon={<RiVideoUploadLine />} />\n{/*             <RiVideoUploadLine\n              className=\"buttonFake\"\n              onClick={grabVideo}\n              size=\"40px\"\n            /> */}\n          </label>\n          <input\n            style={{ display: 'none' }}\n            id=\"fileVideoInput\"\n            type=\"file\"\n            onChange={handleVideoChange}\n            required\n          />\n        </div>\n        <div className=\"file-container\">\n\n          <label for=\"file\">\n        <ButtonIcon onClick={grabThumbnail} buttonType=\"outline-faded\" text=\"Select Thumbnail\" icon={<RiFolderUploadLine />} />\n           {/*  <RiFolderUploadLine\n              className=\"buttonFake\"\n              onClick={grabThumbnail}\n              size=\"40px\"\n            /> */}\n            <input\n              style={{ display: 'none' }}\n              id=\"fileImageInput\"\n              type=\"file\"\n              onChange={handleThumbnailChange}\n              required\n            />\n          </label>\n        </div>\n      </div>\n      <Button\n        buttonType=\"right-float\"\n        onClick={handleUpload}\n        text={'Upload Video'}\n      />\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport FullscreenModal from '../../Shared/FullscreenModal/FullscreenModal';\nimport UploadVideoModal from '../UploadVideoModal/UploadVideoModal';\nimport { AiOutlineVideoCamera } from 'react-icons/ai';\nimport './UploadVideo.scss';\nimport IconButton from '../IconButton/IconButton';\n\nexport default function UploadVideo() {\n  const [showModal, setShowModal] = useState(false);\n\n  const handleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  return (\n    <div className=\"upload-video-modal\">\n      <IconButton icon={<AiOutlineVideoCamera />} onClick={handleModal} />\n      {showModal && (\n        <FullscreenModal onCloseClick={handleModal}>\n          <UploadVideoModal />\n        </FullscreenModal>\n      )}\n    </div>\n  );\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport Container from '../Container/Container'\nimport UserProfile from '../UserProfile/UserProfile'\nimport UploadVideo from '../UploadVideo/UploadVideo';\n\nexport default function NavbarAuth({userImage, userId}) {\n  return (\n    <nav className=\"navbar\">\n    <Container>\n    <div>\n      <img className=\"navbar-logo\" src=\"https://getcardify.com/assets/img/logos/icon/Icon_mono_positive.png\" alt=\"\"/>\n    </div>\n\n      <ul className=\"navbar-items-list\">\n      <UploadVideo />\n        <li className=\"navbar-list-item\"><a className=\"navbar-list-link\" href=\"/\">Videos</a></li>\n        <Link to={`/profile/${userId}`}>\n        <UserProfile className=\"navbar-profile-img\" profileImg={userImage} />\n        </Link>\n      </ul>\n\n    </Container>\n  </nav>\n  )\n}\n","import React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport Login from '../../Login/Login';\nimport LoginContainer from '../../Login/Login.container';\nimport SignUpContainer from '../../Login/Signup.container';\nimport FullscreenModal from '../FullscreenModal/FullscreenModal';\nimport Navbar from './Navbar';\nimport NavbarAuth from './NavbarAuth';\n\nexport default function NavbarContainer() {\n  const [toggleSignInModal, setToggleSignInModal] = useState(false);\n  const [toggleSignUpModal, setToggleSignUpModal] = useState(false);\n\n  const { authenticated, id: userId, avatar: avatar} = useSelector((state) => state.user);\n\n  const handleOnSignInClick = () => {\n    setToggleSignInModal(!toggleSignInModal);\n  };\n\n  const handleOnSignUpClick = () => {\n    setToggleSignUpModal(!toggleSignUpModal);\n  };\n\n  const login = () => {};\n\n  if (authenticated) {\n\n    return <NavbarAuth userId={userId} userImage={avatar} />;\n  } else {\n    return (\n      <div className=\"navbar-wrap\">\n        <Navbar\n          onSignInClick={handleOnSignInClick}\n          onSignUpClick={handleOnSignUpClick}\n        />\n        {toggleSignInModal && (\n          <FullscreenModal\n            onOutsideClick={handleOnSignInClick}\n            onCloseClick={handleOnSignInClick}\n          >\n            <LoginContainer />\n          </FullscreenModal>\n        )}\n\n        {toggleSignUpModal && (\n          <FullscreenModal\n            onOutsideClick={handleOnSignUpClick}\n            onCloseClick={() => {\n              console.log('hello');\n              handleOnSignUpClick();\n            }}\n          >\n            <SignUpContainer onSignUpSuccess={() => setToggleSignUpModal(false)} />\n          </FullscreenModal>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react'\nimport Container from '../Container/Container'\nimport Navbar from '../Navbar/Navbar'\nimport NavbarContainer from '../Navbar/Navbar.container'\nexport default function Layout({children}) {\n  return (\n    <div>\n      <NavbarContainer />\n      {children}\n    </div>\n  )\n}\n","import React from 'react'\nimport Spinner from '../../../media/loading-spinner.svg'\nexport default function LoadingSpinner({width = 30}) {\n  return (\n    <div style={{height: \"100%\", width: \"100%\", display:\"flex\", alignItems:\"center\", justifyContent:\"center\"}} className=\"loading-spinner-wrap\"> \n      <img style={{width}} className=\"spinner\" src={Spinner} alt=\"\"/>\n    </div>\n  )\n}\n","import axios from 'axios';\n\nexport const SET_PROFILE = '/profile/my';\nexport const SET_USER_PROFILE = '/profile/user';\nexport const SET_FOLLOWS = '/profile/follows';\nexport const ADD_FOLLOW = '/profile/follow';\n\nexport const loadProfile = (profile) => { \n    return {\n        type: SET_PROFILE,\n        profile\n    }\n}\n\nexport const loadUserProfile = (profile) => {\n  return {\n    type: SET_USER_PROFILE,\n    profile\n  }\n}\n\nexport const loadFollows = (follows) => {\n  return {\n    type: SET_FOLLOWS,\n    follows\n  }\n}\n\nexport const setFollow = (follow) => {\n  return {\n    type: ADD_FOLLOW,\n    follow\n  }\n}\n\nexport const getProfile = (id) => {\n    return async dispatch => {\n      const res = await axios.get(`/api/profile?id=${id}`)\n\n      if(res.statusText){\n        dispatch(loadProfile(res.data.profile))\n      }\n      return res;\n    }\n  } \n\n  export const updateProfile = (new_username, new_email, description, new_avatar, new_banner, new_personal_video) => {\n    let formData = new FormData()\n    // new_username = request.json.get(\"username\", None)\n    // new_email = request.json.get(\"email\", None)\n    // new_about_me = request.json.get(\"about_me\", None)\n    // new_avatar_file = request.files[\"avatar\"] or None\n    // new_banner_file = request.files[\"banner\"] or None.\n    formData.append(\"new_user_name\", 'demo')\n    formData.append(\"new_email\", 'demo')\n    formData.append(\"new_about_me\", description)\n    formData.append(\"new_avatar\", new_avatar.raw)\n    formData.append(\"new_banner\", new_banner.raw)\n    formData.append(\"new_personal_video\", new_personal_video.raw)\n\n    let config = { headers: {\n      'Content-Type': 'multipart/form-data'\n    } }\n      return async dispatch => {\n        const res = await axios.patch('/api/profile/', formData, config)\n        if (res.statusText) {\n          // let signature = res.data.response\n          // let formData2 = new FormData()\n          // console.log(signature)\n          // formData2.append(\"file\", file.raw)\n          // const res2 = await axios.post(signature['url'], formData2, signature['fields'])\n          // console.log(res2)\n          // dispatch(loadProfile(res.data.user));\n        }\n        return res;\n      }\n    }\n\n  export const createFollow = (followId) => {\n    console.log(followId)\n    return async dispatch => {\n      const res = await axios.post(`/api/followers/follow?follow=${followId}`)\n      if (res.statusText) {\n        dispatch(loadFollows(res.data.follows))\n      }\n      return res;\n    }\n  }\n\n  export const getFollows = (followId) => {\n    return async dispatch => {\n      const res = await axios.get(`/api/followers/follow?follow=${followId}`)\n      if (res.statusText) {\n        dispatch(loadFollows(res.data.follows))\n      }\n      return res;\n    }\n  }\n\n  export const deleteFollow = (followId) => {\n    return async dispatch => {\n      const res = await axios.delete(`/api/followers/follow?unfollow=${followId}`)\n      dispatch(loadFollows(res.data.follows))\n      return res;\n    }\n  }\n","import React from 'react';\nimport './ProfileBanner.scss';\n\nexport default function ProfileBanner({ banner, avatar, username }) {\n\n\n    return (\n            <div className='main_banner_container'>\n                <img src={banner} alt=\"\"/>\n\n            </div>\n    )\n}\n","import React from 'react';\nimport './Pitch.scss';\nimport ReactPlayer from 'react-player';\n\n\nexport default function Pitch({props}) {\n\n  return (\n    <>\n      <div className='pitch_container'>\n          <ReactPlayer\n            className='pitch_container-video'\n            volume={0}\n            muted={true}\n            url={props.personal_video}\n            controls={true}\n            loop={false}\n            playsinline\n          />\n          <div className='pitch_container-about-me'>\n            <div style={{fontSize: 40, }}>About me</div>\n            <div className=\"about-me\">\n            {props.about_me}\n\n            </div>\n          </div>\n          </div>\n    </>\n  )\n\n}\n","import React from 'react';\nimport './video-thumbnail.style.scss';\nimport { AiFillPlayCircle } from 'react-icons/ai';\nimport { Link } from 'react-router-dom';\nexport default function VideoThumbnail({\n  hovered,\n  background,\n  text,\n  onMouseEnter,\n  onMouseLeave,\n  id,\n  user,\n  views,\n  created_at\n}) {\n  return (\n    <div\n      onMouseEnter={onMouseEnter}\n      onMouseLeave={onMouseLeave}\n      className=\"video-thumbnail\"\n    >\n      <Link to={`/video/${id}`}>\n        <div className=\"video-thumbnail-img-wrap\">\n          <img className=\"video-thumbnail-img\" src={background} alt=\"\" />\n          {hovered && (\n            <div className=\"video-thumbnail-popup-play\">\n              <div>\n                <AiFillPlayCircle className=\"video-thumbnail-popup-play-icon\" />\n              </div>\n              <div className=\"video-thumbnail-popup-play-title\">PLAY</div>\n            </div>\n          )}\n        </div>\n        <div className=\"video-thumbnail-text-wrap\">\n\n        <div className=\"video-thumbnail-text\">{text}</div>\n\n        <div className=\"video-thumbnail-user\">By {user}\n          <div>{views} views   |   {created_at}</div>\n        </div>\n        </div>\n      </Link>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport VideoThumbnail from '../Shared/VideoThumbnail/VideoThumbnail';\nimport \"./TodaysSchedule.scss\";\n\nexport default function TodaysSchedule({ props }) {\n  const [displayPlayButton, setDisplayPlayButton] = useState(false);\n\n  const handleOnMouseEnter = () => {\n    setDisplayPlayButton(true);\n  };\n\n  const handleOnMouseLeave = () => {\n    setDisplayPlayButton(false);\n  };\n  return (\n    \n\n    <div className=\"todays-schedule\">\n      <div>\n        <div className=\"todays-schedule-title\">\n          <div className=\"inner\">\n          <h1 className=\"schedule-text\">Today's lift: {props.title}</h1>\n          <h3 className=\"desc\">{props.description}</h3>\n          </div>\n        </div>\n      </div>\n      <div>\n      <div className=\"inner\">\n      <h1 className=\"title-notes\">Notes for today's lift:</h1>\n      <h3 className=\"desc\">{props.notes}</h3>\n      </div>\n      </div>\n      <div>\n      {props.old_video && (\n        <>\n        <h1>Check out the video from your last {props.main_lift} day</h1>\n        <VideoThumbnail\n          className=\"video-thumbnail.container\"\n          id={props.old_video.id}\n          hovered={displayPlayButton}\n          onMouseLeave={handleOnMouseLeave}\n          onMouseEnter={handleOnMouseEnter}\n          user={props.old_video.user}\n          link={props.old_video.link}\n          text={props.old_video.title}\n          background={props.old_video.thumbnail}\n          views={props.old_video.total_views}\n          created_at={props.old_video.created_at}\n        />\n        </>\n      )}\n      </div>\n    </div>\n  );\n}\n","import React, {useState} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { sendPayment } from '../../../store/payment/payment-actions';\nimport Button from '../Button/Button';\nimport './PaymentMethod.scss';\n\n\nexport default function PaymentMethod({cost, title, description, id, coachId}) {\n  const dispatch = useDispatch()\n  \n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(sendPayment(cost, id, coachId))\n  }\n    return (\n        <div className=\"payment_info\">\n        <div className=\"payment_title\">\n            {title}\n        </div>\n          <div className=\"payment_description\">\n              <p>{description}</p>\n          </div>\n          <div className=\"payment-button\">\n            <form >\n                <label htmlFor='payment' id='payment-amount'>Total cost: $</label>\n                {cost}\n                <Button text=\"Make payment\" onClick={handleSubmit} />\n                <div id='payment-button'>\n                  </div>\n            </form>\n          </div>\n        </div>\n    )\n}","import axios from 'axios';\n\nexport const sendPayment = (cost, paymentId, coachId) => {\n    return async dispatch => {\n      const res = axios.post('/api/payments/submit_payment', {cost, paymentId, coachId})\n      \n      return res;\n    }\n  }","import React from 'react';\nimport TodaysSchedule from './TodaysSchedule'\nimport PaymentMethod from '../Shared/PaymentMethod/PaymentMethod';\nimport './CoachingModal.scss';\n\nexport default function CoachingModal({ props }) {\n  // {props.todays_schedule && props.todays_schedule.map((schedule) => <TodaysSchedule props={schedule} />)}\n  return (\n    <>\n      <div className=\"modal-container\">\n        <div className=\"coaching-modal\">\n        {/*props.user.rewards && props.user.rewards.map((reward) => (\n                <Reward\n                    cost={reward.cost}\n                    title={reward.title}\n                    description={reward.description}\n                    owner_avatar={reward.owner_avatar}\n                    owner_name={reward.owner_name}\n                />\n            ))\n        }\n      */}\n          <div>\n            {props.todays_schedule &&  <TodaysSchedule props={props.todays_schedule} />}\n\n            </div> \n        <div className='payment-container'>\n          {props.user.payment_methods && props.user.payment_methods.map((payment) => (\n            <PaymentMethod\n              title={payment.title}\n              cost={payment.cost}\n              description={payment.description}\n              key={payment.id}\n              id={payment.id}\n              userId={payment.user_id}\n              coachId={payment.user_id}\n            />\n          ))}\n        </div>\n        { /* <div className=\"modal-outline\">\n          <h4>Upload Next Coaching Video Here</h4>\n          </div> */}\n      </div>\n      </div>\n    </>\n  )\n}","import React, { useState } from 'react'\nimport VideoThumbnail from './VideoThumbnail'\nimport './video-thumbnail.container.scss'\n\nexport default function VideoThumbnailContainer({video: {thumbnail, title, link, id, user, created_at, total_views}, name}) {\n  const [displayPlayButton, setDisplayPlayButton] = useState(false)\n \n  user = user || name\n\n  const handleOnMouseEnter = () => {\n    setDisplayPlayButton(true)\n  }\n\n  const handleOnMouseLeave = () => {\n    setDisplayPlayButton(false)\n  }\n  return (\n      <VideoThumbnail className=\"video-thumbnail.container\" id={id} hovered={displayPlayButton} onMouseLeave={handleOnMouseLeave} onMouseEnter={handleOnMouseEnter} user={user} link={link} text={title} background={thumbnail} views={total_views} created_at={created_at}/>\n  )\n}\n","import React from 'react';\nimport { AiFillCaretDown } from 'react-icons/ai';\nimport Button from './Button';\nimport ButtonIcon from './ButtonIcon';\nexport default function ButtonLongBorder({ text, onClick }) {\n  return (\n    <div className=\"button-long-border\">\n      <div className=\"button-border button-border-left\"></div>\n\n\n        <button className=\"button-long-border-button-wrap\" onClick={onClick}>\n          {text}\n        <AiFillCaretDown className=\"button-long-border-icon\" />\n        </button>\n      <div className=\"button-border button-border-right\"></div>\n    </div>\n  );\n}\n","import React from 'react'\nimport VideoThumbnailContainer from '../VideoThumbnail/VideoThumbnail.container'\nimport ButtonLongBorder from '../Button/ButtonLongBorder'\nimport './video-section.style.scss'\nexport default function VideoSection({videos, onViewMoreClick, sectionTitle, name}) {\n  return (\n    <div className=\"video-section\">\n      <div className=\"video-section-title\">{sectionTitle}</div>\n      <div className=\"video-section-videos\">\n      {videos.map((video) => {\n        return <VideoThumbnailContainer key={video.id} video={video} name={name} /> \n      })}\n      </div>\n    <div className=\"video-section-view-more\">\n      <ButtonLongBorder text=\"View more\" onClick={onViewMoreClick} />\n    </div>\n    </div>\n  )\n}\n","import React from 'react';\nimport VideoSection from '../Shared/VideoSection/VideoSection';\n\nexport default function MyVideosModal({props}) {\nreturn (\n    <>\n    {props.new_comments ? (\n        <VideoSection\n          key={'Unseen comments'}\n          sectionTitle=\"Unseen comments\"\n          videos={props.new_comments}\n          name={props.user.username}\n        />\n      ) : null}\n      {props.no_comments ? (\n        <VideoSection\n          key={'Not Commented On'}\n          sectionTitle=\"Not Commented on\"\n          videos={props.no_comments}\n          name={props.user.username}\n        />\n      ) : null}\n      {props.oldComments ? (\n        <VideoSection\n          key={'Videos with Comments'}\n          sectionTitle=\"Videos with comments\"\n          videos={props.oldComments}\n          name={props.user.username}\n        />\n      ) : null}\n      </>\n)\n}","import React from 'react'\nimport Input from '../Input/Input'\nimport './horizontal-menu.style.scss'\nexport default function HorizontalMenuSelector({menuItems, active, onChange}) {\n\n  return (\n    <div className=\"horizontal-menu\">\n      {menuItems.map((menuItem) => {\n        return (\n          <div style={active === menuItem ? {background: \"#CBF6E9\", padding: \"12px 24px\"} : {border: \"None\", padding: \"12px 24px\"}} className=\"horizontal-menu-item\">\n            <label style={ active === menuItem ? {color: \"#1A936F\"} : {color: \"black\"}} htmlFor={\"menus\"}>{menuItem}</label>\n            <input   name=\"menus\" type=\"radio\" onChange={event => onChange(event)} value={menuItem} />\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n","import React, { useEffect, useRef, setState, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { getProfile } from '../../store/profile/profile-actions';\nimport LoadingSpinner from '../Shared/LoadingSpinner/LoadingSpinner';\nimport ProfileBanner from './ProfileBanner';\nimport PitchModal from './PitchModal';\nimport Container from '../Shared/Container/Container';\nimport Button from '../Shared/Button/Button';\nimport './ProfileContainer.scss';\nimport {\n  createFollow,\n  deleteFollow,\n} from '../../store/profile/profile-actions';\nimport CoachingModal from './CoachingModal';\nimport MyVideosModal from './MyVideosModal';\nimport HorizontalMenuSelector from '../Shared/HorizontalMenuSelector/HorizontalMenuSelector';\nimport UserProfile from '../Shared/UserProfile/UserProfile';\nimport {FaCheckCircle} from 'react-icons/fa';\nimport { logOut } from '../../store/user/user-actions';\n\nexport default function ProfileContainer() {\n  const { profile } = useSelector((state) => state.profile);\n  const { id } = useParams();\n  const [showButton, setShowButton] = useState(null);\n  const [activeMenuItem, setActiveMenuItem] = useState('Profile');\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getProfile(id));\n  }, [id]);\n\n  const handleFollow = () => {\n    dispatch(createFollow(id));\n  };\n\n  const handleUnfollow = () => {\n    dispatch(deleteFollow(id));\n  };\n\n  const logout = () => {\n    dispatch(logOut())\n  }\n  \n  if (!profile) {\n    return <LoadingSpinner />;\n  }\n  \n  const setButton = () => {\n    if (profile && profile.followingBool === false) {\n      return <Button buttonType='secondary' text=\"Subscribe\" onClick={handleFollow} />;\n    } else if (profile && profile.followingBool === true) {\n      return <Button buttonType='secondary' text=\"Unsubscribe\" onClick={handleUnfollow} />;\n    } else {\n      return null;\n    }\n  };\n  \n  const handleActiveMenuChange = (e) => {\n    setActiveMenuItem(e.target.value);\n  };\n  \n  return (\n    <div className=\"profile-page\">\n    <ProfileBanner banner={profile.user.banner} />\n    <button onClick={logout}></button>\n    \n      <div className=\"banner_user-info\">\n        <Container>\n          <div className=\"banner_user-info-name\">\n          <div className=\"profile-flex\">\n          <div className=\"username-pr\">\n                {profile.user.username}\n            </div>\n              <div>\n              <UserProfile profileImg={profile.user.avatar} />\n            </div>\n          </div>\n          </div>\n          {profile.user.coach ? (<div className={'coach'}><h4>Certified Coach</h4><FaCheckCircle  size={20} style={{ color: \"blue\"}}/></div>) : null}\n          {setButton()}\n          </Container>\n      </div>\n      <Container>\n        <HorizontalMenuSelector\n          active={activeMenuItem}\n          onChange={(e) => handleActiveMenuChange(e)}\n          menuItems={['Profile', 'Coaching', 'Videos']}\n        />\n\n        {(activeMenuItem === 'Coaching' || activeMenuItem === '') && (\n          <CoachingModal props={profile} />\n        )}\n        {(activeMenuItem === 'Videos' || activeMenuItem === '') && (\n          <MyVideosModal props={profile} />\n        )}\n\n        {(activeMenuItem === 'Profile' || activeMenuItem === '') && (\n<PitchModal props={profile.user} />\n        \n        )}\n      </Container>\n    </div>\n  );\n}\n","import React from 'react';\nimport { connect, useSelector } from 'react-redux';\nimport {Redirect, Route} from 'react-router-dom'\nimport LoginContainer from './components/Login/Login.container';\nimport ProfileContainer from './components/Profile/Profile.container'\nfunction PrivateRoutes() {\n\n/*   const {authenticated} = useSelector(state => state.user)\n\n  if(authenticated) {\n    return (\n      <> \n      </>\n    );\n\n  } else {\n    return <Redirect to=\"/\" />\n  } */\n} \n\n\n\nexport default PrivateRoutes","const axios = require('axios');\n\nexport const SET_VIDEOS = 'videos/all';\nexport const SET_VIDEO = '/videos/single';\nexport const SET_VIDEOS_BY_OWNER = 'videos/owner';\nexport const SET_FEATURED_VIDEOS = 'videos/get_featured';\nexport const VIDEOS_LOADING = 'videos/loading';\nexport const SET_POPULAR_VIDEOS = 'videos/popular';\nexport const SET_RECENT_VIDEOS = 'videos/recent';\nexport const SET_NEED_VIDEOS = 'videos/by_need';\nexport const SET_VIDEO_ERROR = \"SET_VIDEO_ERROR\";\nexport const SET_VIDEO_LOADING = \"SET_VIDEO_LOADING\";\nexport const loadVideos = (videos) => { \n    return {\n        type: SET_VIDEOS,\n        videos\n      }\n    }\n\nexport const setVideoLoading = () => {\n  return {\n    type: SET_VIDEO_LOADING\n  }\n}\n\nexport const videosLoading = () => {\n  return {\n    type: VIDEOS_LOADING\n  }\n}\n\nexport const loadPopularVideos = (videos) => {\n  return {\n    type: SET_POPULAR_VIDEOS,\n    videos\n  }\n}\n\nexport const setVideo = (video) => {\n    return {\n        type: SET_VIDEO,\n        video\n    }\n}\n\nexport const loadNeedVideos = (videos) => {\n  return {\n    type: SET_NEED_VIDEOS,\n    videos\n  }\n}\n\nexport const setVideosByOwner = (videos) => {\n  return {\n    type: SET_VIDEOS_BY_OWNER,\n    videos\n  }\n}\n\nexport const loadFeaturedVideos = (videos) => {\n  return {\n    type: SET_FEATURED_VIDEOS,\n    videos\n  }\n}\n\nexport const loadRecentVideos = (videos) => {\n  return {\n    type: SET_RECENT_VIDEOS,\n    videos\n  }\n}\n\nexport const setVideoError = () => {\n  return {\n    type: SET_VIDEO_ERROR\n  }\n}\n\nexport const getVideos = () => {\n  return async dispatch => {\n      dispatch(videosLoading())\n      const res = await axios.get('/api/videos/')\n\n      if(res.statusText){\n      dispatch(loadVideos(res.data.videos));\n    }\n    return res;\n  }\n}\n\nexport const getRecentVideos = (offset=0) => {\n  return async dispatch => {\n    const res = await axios.get(`/api/videos/by_recent?offset=${offset}`)\n\n    if(res.statusText){\n      dispatch(loadRecentVideos(res.data.videos))\n    }\n    return res;\n  }\n} \n\nexport const getNeedVideos = () => {\n  return async dispatch => {\n    const res = await axios.get('/api/videos/by_need')\n\n    if(res.statusText){\n      dispatch(loadNeedVideos(res.data.videos))\n    }\n    return res\n  }\n}\n\nexport const addView = (vidId) => {\n  return async dispatch => {\n    try {\n      const res = await axios.get(`/api/videos/add_view?id=${vidId}`)\n    } catch (error) {\n      \n    }\n  }\n}\n\n\n\nexport const getVideosByOwner = () => {\n  return async dispatch => {\n    const res = await axios.get('/api/videos/by_owner')\n    if (res.statusText){\n      dispatch(setVideosByOwner(res.data.videos))\n    }\n    return res;\n  }\n}\n\nexport const getVideoById = (id) => {\n\n  return async dispatch => {\n    dispatch(videosLoading())\n\n    try {\n      const res = await axios.get(`/api/videos/single?id=${id}`)\n      console.log(res)\n      dispatch(setVideo(res.data.video))\n    } catch (error) {\n      dispatch(setVideoError())\n    }\n  }\n}\n\n\nexport const getFeaturedVideos = () => {\n  return async dispatch => {\n    const res = await axios.get('/api/videos/search_by_featured')\n    if (res.statusText) {\n      dispatch(loadFeaturedVideos(res.data.videos))\n    }\n    return res;\n  }\n}\n\nexport const getPopularVideos = () => {\n  return async dispatch => {\n    const res = await axios.get('api/videos/search_popular')\n    if (res.statusText) {\n      dispatch(loadPopularVideos(res.data.videos))\n    }\n    return res;\n  }\n}","const axios = require('axios');\n\nexport const SET_COMMENT = '/comments/add_comment';\nexport const SET_COMMENTS = '/comments/all';\nexport const ADD_COMMENT = 'ADD_COMMENT';\nexport const LOADING_COMMENT = 'LOADING_COMMENT';\nexport const INCREMENT_COMMENT_VOTE = \"INCREMENT_COMMENT_VOTE\"\nexport const DECREMENT_COMMENT_VOTE = \"DECREMENT_COMMENT_VOTE\"\nexport const COMMENT_VOTE_ERROR = \"COMMENT_VOTE_ERROR\"\nexport const setComment = (comment) => {\n  return {\n    type: SET_COMMENT,\n    comment\n  }\n}\n\nexport const loadComments = (comments) => {\n  return {\n    type: SET_COMMENTS,\n    comments\n  }\n}\n\nexport const addComment = (comment) => {\n  return {\n    type: ADD_COMMENT,\n    comment\n  }\n}\n\nexport const commentLoading = () =>  {\n  return {\n    type: LOADING_COMMENT,\n  }\n}\n\n\nexport const incrementCommentVote = (commentId) => {\n  return {\n    type: INCREMENT_COMMENT_VOTE,\n    commentId\n  }\n}\n\nexport const decrementCommentVote = (commentId) => {\n  return {\n    type: DECREMENT_COMMENT_VOTE,\n    commentId\n  }\n}\n\nexport const commentVoteError = () => {\n  return {\n    type: COMMENT_VOTE_ERROR\n  }\n}\n\nexport const getComments = (id) => {\n  return async dispatch => {\n    dispatch(commentLoading())\n    const res = await axios.get(`/api/comments?id=${id}`)\n    if (res.statusText) {\n      dispatch(loadComments(res.data.comments));\n    }\n    return res;\n  }\n}\n\nexport const postComment = (comment) => {\n\n  return async dispatch => {\n    console.log(comment)\n    const res = await axios.post(`/api/comments`, comment)\n    if (res.statusText) {\n      dispatch(addComment(res.data.comment));\n      // connect to socket here, emit a new message\n      // maybe close connection (fine tuning)\n    }\n    return res;\n  }\n}\n\nexport const likeComment = (comment_id, like_comment, dislike_comment) => {\n  return async dispatch => {\n    try {\n      const res = await axios.post(`/api/comments/likes?comment_id=${comment_id}`,{like_comment, dislike_comment})    \n    } catch (error) {\n      dispatch(commentVoteError(comment_id))\n    }\n  \n  }\n}","import React, { useState } from 'react';\nimport UserProfile from '../Shared/UserProfile/UserProfile';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { likeComment } from '../../store/comment/comment-actions';\nimport './video-comment.style.scss';\nimport { Link, useParams } from 'react-router-dom';\nimport { AiOutlineCaretUp, AiOutlineCaretDown } from 'react-icons/ai';\nimport IconButton from '../Shared/IconButton/IconButton';\nimport {FaCheckCircle} from 'react-icons/fa';\n\n\nexport default function VideoComment({\n  active,\n  ref,\n  comment,\n  likes,\n  dislikes,\n  timestamp,\n  formatted_timestamp,\n  username,\n  onClick,\n  id,\n  onUpvoteClick,\n  userId,\n  onDownvoteClick,\n  disableLike,\n  disableDislike,\n  avatar,\n  coach\n}) {\n  return (\n    <div\n    style={\n      active\n          ? {\n            boxShadow: '0 0 7px rgba(0,0,0,0.05)',\n              opacity: 1,\n              transition: '0.15s opacity linear',\n            }\n            : { opacity: 0.2, transition: '0.15s opacity linear' }\n      }\n      className={`video-comment ${active && 'video-comment-active'}`}\n      onClick={(e) => onClick({ id, timestamp })}\n      id={id}\n      >\n      {coach && <FaCheckCircle size={20} style={{float: \"right\", color: \"blue\"}}/>}\n      <div\n        style={\n          active\n            ? { opacity: 1, transition: '0.15s opacity linear' }\n            : { opacity: 0.5, transition: '0.15s opacity linear' }\n        }\n        className={`video-comment-info`}\n      >\n        <div className=\"video-comment-likes\">\n          <IconButton\n            disabled={disableLike}\n            background={'white'}\n            sizeInPx={16}\n            className=\"video-comment-likes-button\"\n            onClick={() => onUpvoteClick(id)}\n            icon={<AiOutlineCaretUp />}\n          />\n          <div className=\"video-comment-likes-score\">{likes - dislikes}</div>\n          <IconButton\n          disabled={disableDislike}\n          background={'White'}\n          sizeInPx={16}\n          className=\"video-comment-likes-button\"\n          onClick={() => onDownvoteClick(id)}\n          icon={<AiOutlineCaretDown />}\n          />\n          </div>\n          <Link to={active && `/profile/${userId}`}>\n          <div>\n            <div className=\"video-comment-info-verified\">\n          <UserProfile profileImg={avatar}/>\n\n            </div>\n          <div style={{textAlign: \"Center\"}}>\n          <div className=\"video-comment-username\">{username}</div>\n          <div className=\"video-comment-timestamp\">{formatted_timestamp}</div>\n\n          </div>\n        </div>\n        </Link>\n        {active && <div className=\"video-comment-comment\">{comment}</div>}\n      </div>\n    </div>\n  );\n}\n","import React from 'react'\nimport './textarea.style.scss'\nexport default function Textarea({value, placeholder, onChange}) {\n  return (\n    <>\n    <textarea onChange={event => onChange(event)} className=\"textarea\" value={value} placeholder={placeholder}></textarea>\n    </>\n  )\n}\n","import React from 'react';\nimport Button from '../Button/Button';\nimport Textarea from '../Textarea/Textarea';\nimport UserProfile from '../UserProfile/UserProfile';\nimport './comment-modal.style.scss';\nimport {AiOutlineClose} from 'react-icons/ai'\nimport IconButton from '../IconButton/IconButton';\nexport default function CommentModal({\n  onCommentChange,\n  onCommentSubmit,\n  commentValue,\n  placeholder,\n  buttonText\n}) {\n  return (\n    <div className=\"comment-modal\">\n      <div className=\"comment-modal-user-text-wrap\">\n        <div className=\"textarea-wrap\">\n          <Textarea\n            placeholder={placeholder}\n            value={commentValue}\n            onChange={onCommentChange}\n          />\n        </div>\n      </div>\n      <Button onClick={onCommentSubmit} text={buttonText} />\n    </div>\n  );\n}\n","import React, { useRef } from 'react';\nimport ButtonIcon from '../Shared/Button/ButtonIcon';\nimport FullscreenModal from '../Shared/FullscreenModal/FullscreenModal';\nimport { MdAvTimer } from 'react-icons/md';\nimport { AiFillCaretLeft, AiFillCaretRight } from 'react-icons/ai';\nimport { FiThumbsUp } from 'react-icons/fi';\nimport ReactPlayer from 'react-player';\nimport CommentModal from '../Shared/Comment/CommentModal';\nexport default function CreateVideoComment({\n  formStage,\n  onTimestampedCommentClick,\n  onGeneralCommentClick,\n  onSelectTimestampClick,\n  onBackClick,\n  hasTimestamp,\n  commentValue,\n  video,\n  onCloseClick,\n  onCommentSubmit,\n  onCommentChange,\n}) {\n\n  const playerRef = useRef()\n\n\n\n  return (\n    <div className=\"create-comment-modal\">\n      {formStage === 1 && (\n          <div>\n          <div className=\"create-comment-modal-title\">\n            What type of comment?\n          </div>\n          <div className=\"create-comment-modal-button-wrap\">\n            <ButtonIcon\n              onClick={onTimestampedCommentClick}\n              icon={<MdAvTimer />}\n              text=\"Make a time specific comment\"\n            />\n            <ButtonIcon\n              onClick={onGeneralCommentClick}\n              icon={<FiThumbsUp />}\n              text=\"Make a general comment\"\n            />\n          </div>\n        </div>\n      )}\n      {formStage === 2 && hasTimestamp && (\n        <div>\n          <div className=\"create-comment-modal-title\">\n            Select moment in video\n          </div>\n          <ReactPlayer volume={0} width=\"100%\" ref={playerRef} muted={true} playing={false} url={video.link} controls={true} />\n          <div className=\"create-comment-modal-button-wrap\">\n            <ButtonIcon\n              onClick={onBackClick}\n              text=\"Back\"\n              icon={<AiFillCaretLeft />}\n            />\n          <ButtonIcon\n            onClick={() =>onSelectTimestampClick(playerRef.current.getCurrentTime())}\n            text=\"Next\"\n            icon={<AiFillCaretRight color=\"black\" />}\n          />\n\n          </div>\n        </div>\n      )}\n      {formStage === 3 && (\n        <CommentModal\n          buttonText=\"Submit\"\n          placeholder=\"Write your comment here.\"\n          onCommentSubmit={onCommentSubmit}\n          onCommentChange={(event) => onCommentChange(event)}\n          commentValue={commentValue}\n        />\n      )}\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport CreateVideoComment from './CreateVideoComment';\nimport './create-comment.style.scss';\nimport FullscreenModal from '../Shared/FullscreenModal/FullscreenModal';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { postComment } from '../../store/comment/comment-actions';\nexport default function CreateVideoCommentContainer({onOutsideClick, onCloseClick, onCommentSubmitClick}) {\n  const [formStage, setFormStage] = useState(1);\n  const [hasTimestamp, setHasTimestamp] = useState(false);\n  const [comment, setComment] = useState('');\n  const [timestamp, setTimestamp] = useState(0);\n  const { video, video: {id: videoId} } = useSelector((state) => state.videos);\n  const {id: userId} = useSelector(state => state.user)\n\n  const dispatch = useDispatch();\n  const handleOnGeneralCommentClick = () => {\n    setHasTimestamp(false);\n    setFormStage(3);\n  };\n\n  const handleOnTimestampedCommentClick = () => {\n    setHasTimestamp(true);\n    setFormStage(formStage + 1);\n  };\n\n  const handleOnBackClick = () => {\n    if(hasTimestamp) {\n      setFormStage(formStage - 1);\n    } else {\n      setFormStage(1)\n    }\n  };\n\n  const handleOnSelectTimestampClick = (timestamp) => {\n    setFormStage(formStage + 1)\n    return timestamp === 0 ? setTimestamp(1) : setTimestamp(timestamp);\n  };\n\n  const handleOnCommentSubmit = () => {\n\n    const commentData = {\n      title: \"Comment\",\n      text: comment,\n      user_id: userId,\n      video_id: videoId,\n    }\n\n    if(hasTimestamp) Object.assign(commentData, {timestamp})\n      \n    // Dispatcherasd\n    dispatch(postComment(commentData));\n\n  }\n\n\n\n  const handleOnCommentChange = (event) => {  \n    setComment(event.target.value)\n  }\n\n  return (\n    <FullscreenModal onCloseClick={onCloseClick} onOutsideClick={onOutsideClick}>\n      <CreateVideoComment\n        onCommentSubmit={handleOnCommentSubmit}\n        commentValue={comment}\n        onBackClick={handleOnBackClick}\n        onSelectTimestampClick={timestamp =>handleOnSelectTimestampClick(timestamp)}\n        video={video}\n        hasTimestamp={hasTimestamp}\n        onGeneralCommentClick={handleOnGeneralCommentClick}\n        onTimestampedCommentClick={handleOnTimestampedCommentClick}\n        formStage={formStage}\n        onCommentSubmit={() => {handleOnCommentSubmit(); onCommentSubmitClick()}}\n        onCommentChange={event => handleOnCommentChange(event)}\n      />{' '}\n    </FullscreenModal>\n  );\n}\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { decrementCommentVote, incrementCommentVote, likeComment } from '../../store/comment/comment-actions';\nimport VideoComment from './VideoComment';\n\nexport default function VideoCommentContainer({\n  active,\n  ref,\n  comment,\n  likes,\n  dislikes,\n  timestamp,\n  formatted_timestamp,\n  username,\n  onClick,\n  id,\n  userId,\n  onUpvoteClick,\n  onDownvoteClick,\n  avatar,\n  coach\n}) {\n\n  const [alreadyLiked, setAlreadyLiked] = useState(false);\n  const [alreadyDisliked, setAlreadyDisliked] = useState(false);\n  const dispatch = useDispatch()\n\n  const handleOnUpvoteClick = (commentId) => {\n\n\n    setAlreadyLiked(liked => !liked)\n    setAlreadyDisliked(false)\n    dispatch(incrementCommentVote(commentId))\n    dispatch(likeComment(commentId, true, false))\n  }\n  \n  const handleOnDownvoteClick = (commentId) => {\n    \n    \n    setAlreadyDisliked(disliked => !disliked)\n    setAlreadyLiked(false)\n\n    dispatch(decrementCommentVote(commentId))\n    dispatch(likeComment(commentId, false, true))\n  }\n\n  return (\n    <VideoComment\n      onDownvoteClick={handleOnDownvoteClick}\n      onUpvoteClick={handleOnUpvoteClick}\n      key={id}\n      id={id}\n      likes={likes}\n      dislikes={dislikes}\n      active={active}\n      comment={comment}\n      userId={userId}\n      timestamp={timestamp}\n      formatted_timestamp={formatted_timestamp}\n      onClick={(comment) => onClick(comment)}\n      username={username}\n      avatar={avatar}\n      ref={ref}\n      disableDislike={alreadyDisliked}\n      disableLike={alreadyLiked}\n      coach={coach}\n    />\n  );\n}\n","import React, { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { decrementCommentVote, incrementCommentVote, likeComment } from '../../store/comment/comment-actions';\nimport VideoComment from './VideoComment';\n\nexport default function GeneralCommentsContainer({comments}) {\n\n  const [alreadyLiked, setAlreadyLiked] = useState(false);\n  const [alreadyDisliked, setAlreadyDisliked] = useState(false);\n  const dispatch = useDispatch()\n\n  const handleOnUpvoteClick = (commentId) => {\n\n\n    setAlreadyLiked(liked => !liked)\n    setAlreadyDisliked(false)\n    dispatch(incrementCommentVote(commentId))\n    dispatch(likeComment(commentId, true, false))\n  }\n  \n  const handleOnDownvoteClick = (commentId) => {\n    \n    \n    setAlreadyDisliked(disliked => !disliked)\n    setAlreadyLiked(false)\n\n    dispatch(decrementCommentVote(commentId))\n    dispatch(likeComment(commentId, false, true))\n  }\n\nfunction doNothing() {\n  return\n}\nreturn (\n    <>\n      {comments.map(\n    ({\n      text,\n      likes,\n      dislikes,\n      comment_user,\n      created_at,\n      timestamp,\n      id,\n      comment_avatar,\n      user_id,\n      coach\n    }) => {\n      if (timestamp === null) {\n        console.log(comments)\n    return <VideoComment\n      onClick={() => doNothing()}\n      onDownvoteClick={handleOnDownvoteClick}\n      onUpvoteClick={handleOnUpvoteClick}\n      key={id}\n      id={id}\n      userId={user_id}\n      likes={likes}\n      dislikes={dislikes}\n      active={true}\n      comment={text}\n      timestamp={null}\n      formatted_timestamp={null}\n      username={comment_user}\n      avatar={comment_avatar}\n      disableDislike={alreadyDisliked}\n      disableLike={alreadyLiked}\n      coach={coach}\n    />\n      }})}\n      </>\n  );\n}\n","import React, { useEffect, useRef, setState, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ReactPlayer from 'react-player';\nimport { addView, getVideoById } from '../../store/video/video-actions';\nimport {\n  useWindowWidth,\n} from '@react-hook/window-size'\nimport {\n  decrementCommentVote,\n  getComments,\n  incrementCommentVote,\n  postComment,\n} from '../../store/comment/comment-actions';\nimport { Link, useParams } from 'react-router-dom';\nimport IconButton from '../Shared/IconButton/IconButton';\nimport { AiOutlineComment } from 'react-icons/ai';\nimport VideoComment from './VideoComment';\nimport CommentModal from '../Shared/Comment/CommentModal';\nimport FullscreenModal from '../Shared/FullscreenModal/FullscreenModal';\nimport LoginContainer from '../Login/Login.container';\nimport './video-player.style.scss';\nimport CreateVideoCommentContainer from './CreateVideoComment.container';\nimport { format } from 'timeago.js';\nimport LoadingSpinner from '../Shared/LoadingSpinner/LoadingSpinner';\nimport Input from '../Shared/Input/Input';\nimport Button from '../Shared/Button/Button';\nimport { likeComment } from '../../store/comment/comment-actions';\nimport VideoCommentContainer from './VideoComment.container';\nimport UserProfile from '../Shared/UserProfile/UserProfile';\nimport Textarea from '../Shared/Textarea/Textarea';\nimport GeneralCommentsContainer from './GeneralComments.container';\nimport ButtonIcon from '../Shared/Button/ButtonIcon';\n\nexport default function VideoPlayerContainer() {\n  const player = useRef(null);\n  const [play, setPlay] = useState(false);\n  const [commentsToDisplay, setCommentsToDisplay] = useState([]);\n  const [secondsPlayed, setSecondsPlayed] = useState(0);\n  const [displayCommentModal, setDisplayCommentModal] = useState(false);\n  const [feedbackComment, setFeedbackComment] = useState('');\n  const [displayLoginModal, setDisplayLoginModal] = useState(false);\n  const [reactPlayerLoading, setReactPlayerLoading] = useState(true);\n  const [generalComment, setGeneralComment] = useState('');\n  const [viewAdded, setViewAdded] = useState(false);\n  const dispatch = useDispatch();\n  const { id: videoId } = useParams();\n  const firstMount = useRef(true);\n  const videoCommentRef = useRef();\n  const videoPlayerRef = useRef();\n  const {\n    video,\n    video: {\n      link: videoUrl,\n      created_at: createdAt,\n      total_views: views,\n      user,\n      description,\n      title,\n      categories,\n      avatar\n    },\n    loading: videoLoading,\n  } = useSelector((state) => state.video);\n\n\n  const { id: userId, username, authenticated } = useSelector(\n    (state) => state.user\n  );\n  const { comments, loading: commentsLoading } = useSelector(\n    (state) => state.comments\n  );\n\n  const width = useWindowWidth()\n\n  // let timestamp = useSelector(state => state.videos.timestamp);\n\n  useEffect(() => {\n    dispatch(getVideoById(videoId));\n    dispatch(getComments(videoId));\n  }, []);\n\n  useEffect(() => {\n    if (\n      comments.length > 10 &&\n      videoCommentRef.current !== null &&\n      videoCommentRef.current\n    ) {\n      const [...children] = videoCommentRef.current.children;\n      const x = children;\n      const xToArr = [...x];\n\n      const item = [];\n      let final;\n      for (let i = 0; i < xToArr.length; i++) {\n        [...final] = xToArr[i].classList;\n        if (final.includes('video-comment-active')) {\n          item.push(xToArr[i]);\n        }\n      }\n      if (item.length > 0) {\n        let activeItemOffsetTop = item[0].offsetTop;\n        videoCommentRef.current.scrollTop = activeItemOffsetTop;\n      }\n    }\n  }, [commentsToDisplay]);\n\n  const displayCommentsWithSameTimestampAsVideo = (videoTimeInSeconds) => {\n    const commentsWithSameTimestampAsVideotime = [];\n    for (let i = 0; i < comments.length; i++) {\n      if (comments[i].timestamp === videoTimeInSeconds) {\n        commentsWithSameTimestampAsVideotime.push(comments[i].id);\n      }\n    }\n\n    setCommentsToDisplay(commentsWithSameTimestampAsVideotime);\n  };\n\n  const closeLoginModal = () => {\n    setDisplayLoginModal(false)\n  }\n  \n\n  function handleOnProgress(event) {\n    if (secondsPlayed === -1) {\n      return;\n    }\n    const videoTimeRoundedToSeconds = Math.floor(event.playedSeconds);\n    console.log(event);\n\n    const videoDuration = videoPlayerRef.current.getDuration();\n\n    const userWatchedMoreThanThirtyPercent =\n      videoTimeRoundedToSeconds / videoDuration > 0.3;\n    if (userWatchedMoreThanThirtyPercent && !viewAdded) {\n      setViewAdded(true);\n      dispatch(addView(videoId));\n    }\n\n    // Make sure the callback only runs once for each second.\n    if (videoTimeRoundedToSeconds === secondsPlayed) {\n      return;\n    }\n    setSecondsPlayed(videoTimeRoundedToSeconds);\n\n    // Check if theres a timestamp at current play time of video.\n\n    for (let i = 0; i < comments.length; i++) {\n      if (comments[i].timestamp === videoTimeRoundedToSeconds) {\n        setPlay(false);\n        return displayCommentsWithSameTimestampAsVideo(\n          videoTimeRoundedToSeconds\n        );\n      }\n    }\n  }\n\n  const handleOnPlayClick = () => {\n    setPlay(true);\n    setCommentsToDisplay([]);\n  };\n\n  const handleOnEnded = () => {\n    setCommentsToDisplay([]);\n  };\n\n  const handleOnCreateCommentClick = () => {\n    if (authenticated) {\n      setDisplayCommentModal(!displayCommentModal);\n      setPlay(false);\n    } else {\n      setDisplayLoginModal(!displayLoginModal);\n    }\n  };\n\n  const handleOnCommentChange = (event) => {\n    setFeedbackComment(event.target.value);\n  };\n\n  const handleOnVideoReady = () => {\n    setReactPlayerLoading(false);\n  };\n\n  const handleOnVideoCommentClick = (comment) => {\n    videoPlayerRef.current.player.player.player.currentTime = comment.timestamp;\n    setSecondsPlayed(-1);\n    setCommentsToDisplay([comment.id]);\n  };\n\n  useEffect(() => {\n    if (firstMount.current) {\n      firstMount.current = false;\n    }\n  }, []);\n\n  useEffect(() => {\n    if(authenticated) {\n      setDisplayLoginModal(false)\n    }\n  }, [authenticated])\n\n\n  const handleOnCloseCommentModalClick = () => {\n    setDisplayCommentModal(false);\n  };\n\n  const handleOnGeneralCommentChange = (event) => {\n    setGeneralComment(event.target.value);\n  };\n\n  const handleOnGeneralCommentSubmit = () => {\n    const commentData = {\n      title: \"Comment\",\n      text: generalComment,\n      user_id: userId,\n      video_id: videoId,\n    }\n    dispatch(postComment(commentData))\n  };\n\n  useEffect(() => {\n    if(!firstMount.current) {\n      generateVideoWidth()\n      generateVideoHeight()\n\n    }\n  }, [width])\n\n  const generateVideoHeight = () => {\n    if(width > 1025 && width < 1980) {\n      return 480\n    } else {\n      return 720\n    }\n  }\n\n  const generateVideoWidth = () => {\n    if(width > 1025 && width < 1980) {\n      return 720\n    } else {\n      return 1270\n    }\n  }\n\n  return (\n    <div className=\"video-player-page\">\n      {displayCommentModal && (\n        <CreateVideoCommentContainer\n          onCommentSubmitClick={handleOnCloseCommentModalClick}\n          onCloseClick={handleOnCloseCommentModalClick}\n          onCloseClick={handleOnCloseCommentModalClick}\n        />\n      )}\n      {displayLoginModal && (\n        <FullscreenModal\n        onCloseClick={closeLoginModal}\n        onOutsideClick={closeLoginModal}\n        >\n          <LoginContainer />\n        </FullscreenModal>\n      )}{' '}\n      <div className=\"video-wrap\">\n        {' '}\n        {!commentsLoading && !videoLoading ? (\n          <div>\n            <ReactPlayer\n              onReady={handleOnVideoReady}\n              volume={0}\n              width={generateVideoWidth()}\n              height={generateVideoHeight()}\n              progressInterval={1000}\n              onPlay={handleOnPlayClick}\n              onEnded={handleOnEnded}\n              playing={play}\n              muted={true}\n              ref={videoPlayerRef}\n              url={video.link}\n              controls={true}\n              loop={false}\n              playsinline\n              onProgress={(event) => handleOnProgress(event)}\n            />\n            <div className=\"video-info\">\n              <div className=\"categories\">\n                {categories.map((category) => (\n                  <span className=\"category\">{category.title}</span>\n                ))}\n              </div>\n              <div className=\"video-info-upper\">\n                <div className=\"video-info-title\">{title}</div>\n                <div>\n                  <span className=\"video-info-views\">{views} views</span>\n                  <span></span>\n                  <span className=\"video-info-createdAt\">\n                    {format(createdAt)}\n                  </span>\n                </div>\n              </div>\n              <div className=\"video-info-container\">\n                <div className=\"video-info-user-profile\">\n                  <UserProfile profileImg={avatar} />\n                  <div className=\"video-info-user\">{user}</div>\n                </div>\n                <div className=\"video-info-description\">{description}</div>\n              </div>\n              {!videoLoading && (\n                <ButtonIcon\n                  onClick={handleOnCreateCommentClick}\n                  icon={<AiOutlineComment />}\n                  text=\"Make comment\"\n                  buttonType=\"outline\"\n                />\n              )}\n            </div>\n            <div style={{margin: \"20px 0px\", fontSize: 20, fontWeight: 600}}>{comments.length} Comments</div>\n           {/*  <div className=\"video-player-general-comment-wrap\">\n              <Textarea\n                value={generalComment}\n                onChange={(e) => setGeneralComment(e.target.value)}\n                placeholder=\"Make a comment\"\n              />\n              <Button text=\"Post comment\" onClick={handleOnGeneralCommentSubmit} />\n            </div> */}\n            <div className=\"video-comment-general-list\">\n              <GeneralCommentsContainer comments={comments} />\n            </div>\n          </div>\n        ) : (\n          <LoadingSpinner width={32} />\n        )}{' '}\n      </div>{' '}\n      <div ref={videoCommentRef} className=\"video-comment-list\">\n        {' '}\n        {!commentsLoading && !videoLoading ? (\n          comments.map(\n            ({\n              text,\n              timestamp,\n              id,\n              comment_user,\n              formatted_timestamp,\n              likes,\n              dislikes,\n              comment_avatar,\n              user_id,\n              coach\n            }) => {\n              if (timestamp !== null) {\n                return (\n                  <VideoCommentContainer\n                    key={id}\n                    id={id}\n                    likes={likes}\n                    dislikes={dislikes}\n                    avatar={comment_avatar}\n                    active={commentsToDisplay.includes(id)}\n                    comment={text}\n                    userId={user_id}\n                    timestamp={timestamp}\n                    formatted_timestamp={formatted_timestamp}\n                    username={comment_user}\n                    onClick={(comment) => handleOnVideoCommentClick(comment)}\n                    coach={coach}\n                  />\n                );\n              }\n            }\n          )\n        ) : (\n          <LoadingSpinner />\n        )}{' '}\n      </div>{' '}\n    </div>\n  );\n}\n","import React, { useEffect, useState } from 'react'\nimport {useDispatch, useSelector} from 'react-redux'\nimport { getVideos, getPopularVideos, getRecentVideos, getNeedVideos } from '../../store/video/video-actions'\nimport LoadingSpinner from '../Shared/LoadingSpinner/LoadingSpinner'\nimport VideoSection from '../Shared/VideoSection/VideoSection'\nimport VideoThumbnailContainer from '../Shared/VideoThumbnail/VideoThumbnail.container'\nimport './Homepage.container.scss'\nexport default function HomepageGuestContainer() {\n\n  const dispatch = useDispatch()\n  const { videos } = useSelector(state => state)\n  const [loading, setLoading] = useState(false)\n  // state.videos.popularVideos\n  // state.videos.recentVideos\n  // state.videos.needVideos\n\n\n  if (!videos){\n    setLoading(true)\n  }\n\n  useEffect(() => {\n    // dispatch(getVideos())\n    dispatch(getPopularVideos())\n    dispatch(getRecentVideos())\n    dispatch(getNeedVideos())\n  }, [])\n\n  if(loading) {\n    return <LoadingSpinner />\n  }\n\n\n\n  return (\n    <div className=\"homepage-guest\">\n        {videos.popularVideos ? <VideoSection key={\"Popular Videos\"} sectionTitle=\"Popular Videos\" videos={videos.popularVideos} /> : null}\n        {videos.recentVideos ? <VideoSection key={\"Recent Videos\"} sectionTitle=\"Recent videos\" videos={videos.recentVideos} /> : null}\n        {videos.needVideos ? <VideoSection key={\"Support these Videos\"} sectionTitle=\"People that need your support\" videos={videos.needVideos} /> : null}\n    </div>\n  )\n}\n","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport LoginContainer from './components/Login/Login.container';\nimport VideoPlayerContainer from './components/Video/VideoPlayer.container';\nimport HomepageGuestContainer from './components/HomePage/HomepageGuest.container';\nimport Container from './components/Shared/Container/Container';\nimport ProfileContainer from './components/Profile/Profile.container'\nexport default function PublicRoutes() {\n  return (\n    <>\n      <Container>\n        <Route exact path=\"/\" component={HomepageGuestContainer} />\n        <Route\n          exact\n          path=\"/dashboard/guest\"\n          component={HomepageGuestContainer}\n        />\n        <Route exact path=\"/login\" component={LoginContainer} />\n        \n        </Container>\n        <Route path=\"/profile/:id\" exact component={ProfileContainer} />\n      <Route exact path=\"/video/:id\" component={VideoPlayerContainer} />\n    </>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport { BrowserRouter, Switch } from 'react-router-dom';\nimport Layout from './components/Shared/Layout/Layout';\nimport LoadingSpinner from './components/Shared/LoadingSpinner/LoadingSpinner';\nimport PrivateRoutes from './PrivateRoutes';\nimport PublicRoutes from './PublicRoutes';\n// import { setUser } from './store/auth';\nimport { authenticate, login } from './store/user/user-actions';\n\nfunction App({ authenticateUser, userLoading, userAuthenticated }) {\n  let dispatch = useDispatch()\n  // useEffect(() => {\n  //   authenticateUser();\n  // }, []);\n  // if userAuthenticated then onConnect emit message asking for notifications, on response get the informations\n  // pass userId on response get the notifications, dispatch a user patch to set notification to true\n\n  // import checkAuthenticated, useEffect to fire it off and return the user if authenticated.  \n\n  useEffect(() => {\n    dispatch(authenticate())\n  })\n\n\n/*   if (userLoading) {\n    return <LoadingSpinner />;\n  } */\n\n  return (\n    <BrowserRouter>\n    <Layout>\n      <Switch>\n        <PublicRoutes />\n        <PrivateRoutes />\n      </Switch>\n    </Layout>\n    </BrowserRouter>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  userLoading: state.user.loading,\n  userAuthenticated: state.user.authenticated,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  authenticateUser: () => dispatch(authenticate()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","const DEFAULT_STATE = {\n  name: null,\n  id: null,\n  error: false,\n  loading: false,\n  authenticated: false,\n};\n\n\nexport default (state = DEFAULT_STATE, action) => {\n  switch (action.type) {\n    case \"LOGIN_LOADING\":\n      return {\n        ...state,\n        loading: true,\n      }\n\n      case \"LOGIN_FAILED\":\n        return {\n          ...state,\n          loading: false,\n            error: true,\n        }\n\n        case \"LOGIN_SUCCEEDED\":\n          return {\n            ...state,\n            loading: false,\n              error: false,\n              authenticated: true,\n              username: action.user.user.username,\n              avatar: action.user.user.avatar,\n              id: action.user.user.id\n          }\n          default:\n          return {\n            ...state\n          }\n  }\n\n}","import { SET_VIDEO, SET_VIDEO_ERROR, SET_VIDEO_LOADING} from './video-actions';\n\nconst DEFAULT_STATE = {\n video: {},\n loading: true,\n error: false, \n\n\n}\n\nexport default function videoReducer(state= DEFAULT_STATE, action) {\n\n    switch (action.type) {\n        case SET_VIDEO:\n            return {...state, video: action.video, loading: false, error: false};\n        case SET_VIDEO_ERROR:\n            return {...state, video: {}, error: true, loading: false};\n        case SET_VIDEO_LOADING: \n            return {...state, error: false, loading: true}\n\n        \n        default:\n            return state;\n    }\n}\n","import { bindActionCreators } from 'redux';\nimport { ADD_COMMENT, SET_COMMENT, SET_COMMENTS, LOADING_COMMENT, COMMENT_VOTE_ERROR, INCREMENT_COMMENT_VOTE, DECREMENT_COMMENT_VOTE } from './comment-actions';\n\nconst DEFAULT_STATE = {\n    comments: [],\n    loading: true, \n    error: false,\n}\n\nexport default function commentsReducer(state= DEFAULT_STATE, action) {\n    switch (action.type) {\n        case SET_COMMENT:\n            return {...state, comment: action.comment};\n        case LOADING_COMMENT: \n            return {\n                ...state, error: false, loading: true,\n            }\n        case SET_COMMENTS:\n            return {...state, loading: false,  comments: action.comments.sort((a, b) => a.timestamp - b.timestamp)};\n\n        case ADD_COMMENT: \n            return {...state, comments: [action.comment, ...state.comments].sort((a,b) => (a.timestamp < b.timestamp) ? -1 : 1)}\n\n        case COMMENT_VOTE_ERROR: \n        return {...state}\n\n        case INCREMENT_COMMENT_VOTE: \n        return {\n            ...state,\n            comments: state.comments.map((comment ) => {\n                return comment.id === action.commentId ?\n                {...comment, likes: comment.likes + 1}\n                :\n                comment\n            })\n        }\n        case DECREMENT_COMMENT_VOTE: \n        return {\n            ...state,\n            comments: state.comments.map((comment ) => {\n                return comment.id === action.commentId ?\n                {...comment, dislikes: comment.dislikes + 1}\n                :\n                comment\n            })\n        }\n        default:\n            return state;\n    }\n}\n","import { SET_VIDEO, SET_VIDEOS, SET_FEATURED_VIDEOS, SET_VIDEOS_BY_OWNER, VIDEOS_LOADING, SET_POPULAR_VIDEOS, SET_RECENT_VIDEOS, SET_NEED_VIDEOS } from './videos-actions';\n\nconst DEFAULT_STATE = {\n videos: [],\n loading: true, \n}\n\nexport default function videosReducer(state= DEFAULT_STATE, action) {\n    switch (action.type) {\n        case SET_VIDEOS:\n            return {...state, videos: action.videos.slice(0, 4), loading: false};\n        case SET_VIDEO:\n            return {...state, video: action.video};\n        case SET_VIDEOS_BY_OWNER:\n            return {...state, ownedVidoes: action.videos};\n        case SET_FEATURED_VIDEOS:\n            return { ...state, featuredVideos: action.videos};\n        case VIDEOS_LOADING: \n            return {...state, loading: true}\n        case SET_POPULAR_VIDEOS:\n            return {...state, popularVideos: action.videos}\n        case SET_RECENT_VIDEOS:\n            return {...state, recentVideos: action.videos}\n        case SET_NEED_VIDEOS:\n            return {...state, needVideos: action.videos}\n        default:\n            return state;\n    }\n}\n","import { createStore, compose, combineReducers, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport user from './user/user-reducer';\nimport video from './video/video-reducer'\nimport categories from './category/category-reducer';\nimport comments from './comment/comment-reducer';\nimport profile from './profile/profile-reducer';\nimport videos from './videos/videos-reducer'\nimport logger from 'redux-logger';\n\n\nconst rootReducer = combineReducers({\n  user, videos, categories, comments, profile, video\n});\n\nlet storeEnhancer;\n\nif (process.env.NODE_ENV !== 'production') {\n  const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  const middlewares = [thunk, logger]\n  storeEnhancer = composeEnhancers(applyMiddleware(...middlewares));\n} else {\n  storeEnhancer = applyMiddleware(thunk);\n}\n\nexport default function configureStore(initialState) {\n  return createStore(\n    rootReducer,\n    initialState,\n    storeEnhancer\n  )\n}","import { SET_CATEGORIES, SET_VIDEOS_BY_CATEGORY } from './category-actions';\n\nexport default function categoriesReducer(state={}, action) {\n    switch (action.type) {\n        case SET_CATEGORIES:\n            return {...state, categories: action.categories}\n        case SET_VIDEOS_BY_CATEGORY:\n            return {...state, videos: action.videos}\n        default:\n            return state;\n    }\n}","import { SET_PROFILE, SET_USER_PROFILE, SET_FOLLOWS } from './profile-actions';\n\nconst DEFAULT_STATE = {\n    \n}\n\n\nexport default function profileReducer(state={}, action) {\n    switch (action.type) {\n        case SET_PROFILE:\n            return {...state, profile: action.profile};\n        case SET_USER_PROFILE:\n            return {...state, userProfile: action.userProfile};\n        case SET_FOLLOWS:\n            return {...state, follows: action.follows};\n        default:\n            return state;\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './global.scss';\nimport './variables.scss';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport configureStore from './store/configureStore';\nimport Layout from './components/Shared/Layout/Layout';\n\nconst store = configureStore();\nif (process.env.NODE_ENV !== 'production') {\n  window.store = store;\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n        <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","module.exports = __webpack_public_path__ + \"static/media/loading-spinner.263ead23.svg\";"],"sourceRoot":""}